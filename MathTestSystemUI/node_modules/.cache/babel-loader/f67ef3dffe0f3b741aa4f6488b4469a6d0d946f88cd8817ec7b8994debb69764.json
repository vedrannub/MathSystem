{"ast":null,"code":"var _jsxFileName = \"C:\\\\Quipu_Vedran_krstevski\\\\math-test-system-ui\\\\src\\\\components\\\\TeacherUpload.js\",\n  _s = $RefreshSig$();\n// src/components/TeacherUpload.js\nimport React, { useState } from 'react';\nimport { Form, Button, Alert, Spinner, Card, Container } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction TeacherUpload() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [message, setMessage] = useState({\n    type: '',\n    text: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n    setMessage({\n      type: '',\n      text: ''\n    }); // Reset message on new file selection\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!file) {\n      setMessage({\n        type: 'danger',\n        text: 'Please select a valid XML file.'\n      });\n      return;\n    }\n    setLoading(true);\n    setMessage({\n      type: '',\n      text: ''\n    });\n    const formData = new FormData();\n    formData.append('xmlFile', file);\n    try {\n      const response = await fetch('http://localhost:5131/api/Exams/upload', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          // Include API Key if your endpoint requires authentication\n          'ApiKey': 'Your_Secure_API_Key' // Replace with your actual API key\n        }\n      });\n      if (response.ok) {\n        setMessage({\n          type: 'success',\n          text: 'File processed successfully.'\n        });\n      } else {\n        const errorData = await response.json();\n        setMessage({\n          type: 'danger',\n          text: errorData.message || 'An error occurred while processing the file.'\n        });\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setMessage({\n        type: 'danger',\n        text: 'An error occurred while processing the file.'\n      });\n    } finally {\n      setLoading(false);\n      setFile(null); // Reset the file input\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-4\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        as: \"h3\",\n        children: \"Upload Exams\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formFile\",\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Select XML File\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"file\",\n              accept: \".xml\",\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            disabled: loading,\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                as: \"span\",\n                animation: \"border\",\n                size: \"sm\",\n                role: \"status\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this), ' ', \"Uploading...\"]\n            }, void 0, true) : 'Upload'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), message.text && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: message.type,\n          className: \"mt-3\",\n          children: message.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(TeacherUpload, \"khdSY/ku9SEa8snZfYM4gk+/YKI=\");\n_c = TeacherUpload;\nexport default TeacherUpload;\nvar _c;\n$RefreshReg$(_c, \"TeacherUpload\");","map":{"version":3,"names":["React","useState","Form","Button","Alert","Spinner","Card","Container","jsxDEV","_jsxDEV","Fragment","_Fragment","TeacherUpload","_s","file","setFile","message","setMessage","type","text","loading","setLoading","handleFileChange","e","target","files","handleSubmit","preventDefault","formData","FormData","append","response","fetch","method","body","headers","ok","errorData","json","error","console","className","children","Header","as","fileName","_jsxFileName","lineNumber","columnNumber","Body","onSubmit","Group","controlId","Label","Control","accept","onChange","variant","disabled","animation","size","role","_c","$RefreshReg$"],"sources":["C:/Quipu_Vedran_krstevski/math-test-system-ui/src/components/TeacherUpload.js"],"sourcesContent":["// src/components/TeacherUpload.js\r\nimport React, { useState } from 'react';\r\nimport { Form, Button, Alert, Spinner, Card, Container } from 'react-bootstrap';\r\n\r\nfunction TeacherUpload() {\r\n  const [file, setFile] = useState(null);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n    setMessage({ type: '', text: '' }); // Reset message on new file selection\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!file) {\r\n      setMessage({ type: 'danger', text: 'Please select a valid XML file.' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    const formData = new FormData();\r\n    formData.append('xmlFile', file);\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5131/api/Exams/upload', {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n          // Include API Key if your endpoint requires authentication\r\n          'ApiKey': 'Your_Secure_API_Key', // Replace with your actual API key\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage({ type: 'success', text: 'File processed successfully.' });\r\n      } else {\r\n        const errorData = await response.json();\r\n        setMessage({ type: 'danger', text: errorData.message || 'An error occurred while processing the file.' });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setMessage({ type: 'danger', text: 'An error occurred while processing the file.' });\r\n    } finally {\r\n      setLoading(false);\r\n      setFile(null); // Reset the file input\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-4\">\r\n      <Card>\r\n        <Card.Header as=\"h3\">Upload Exams</Card.Header>\r\n        <Card.Body>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\r\n              <Form.Label>Select XML File</Form.Label>\r\n              <Form.Control\r\n                type=\"file\"\r\n                accept=\".xml\"\r\n                onChange={handleFileChange}\r\n              />\r\n            </Form.Group>\r\n            <Button variant=\"primary\" type=\"submit\" disabled={loading}>\r\n              {loading ? (\r\n                <>\r\n                  <Spinner\r\n                    as=\"span\"\r\n                    animation=\"border\"\r\n                    size=\"sm\"\r\n                    role=\"status\"\r\n                    aria-hidden=\"true\"\r\n                  />{' '}\r\n                  Uploading...\r\n                </>\r\n              ) : (\r\n                'Upload'\r\n              )}\r\n            </Button>\r\n          </Form>\r\n\r\n          {message.text && (\r\n            <Alert variant={message.type} className=\"mt-3\">\r\n              {message.text}\r\n            </Alert>\r\n          )}\r\n        </Card.Body>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default TeacherUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}